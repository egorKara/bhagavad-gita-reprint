# Yandex Server Agent

## Описание
Автономный агент для поддержания сервера Yandex Cloud в отличном состоянии. Создан 26 августа 2025.

## Основные функции
- **24/7 мониторинг** API, сервисов и ресурсов системы
- **Автоматическое исправление** проблем без вмешательства человека
- **Синхронизация** с Cursor IDE и другими агентами проекта
- **Отчетность** о состоянии системы в реальном времени

## Технические характеристики
- **Язык:** Python 3.8+
- **Зависимости:** requests, schedule, psutil
- **Режим работы:** systemd сервис
- **Интервал проверок:** 15 минут
- **Синхронизация:** каждый час с Cursor, каждые 30 минут с GitHub

## Автоматические действия
1. **Перезапуск упавших сервисов** (gita-api, nginx)
2. **Очистка логов** при заполнении диска >85%
3. **Обновление SSL сертификатов** при истечении <7 дней
4. **Экстренное восстановление** при критических сбоях

## Синхронизация с Cursor IDE
- Читает приоритеты из `.cursor/rules/agent-priorities.mdc`
- Обновляет статус в `.cursor/sync-status.log`
- Синхронизирует метрики в `.cursor/memory-bank/server-status.md`
- Коммитит изменения в GitHub репозиторий

## Файлы и расположение
- **На сервере:** `/home/yc-user/gita-1972/server-agent/`
- **Конфигурация:** `agent-config.json`
- **Основной скрипт:** `yandex-server-agent.py`
- **Синхронизация:** `sync-with-cursor.py`
- **Логи:** `/home/yc-user/gita-1972/logs/server-agent.log`

## Команды управления
- **Статус:** `systemctl status yandex-server-agent`
- **Перезапуск:** `sudo systemctl restart yandex-server-agent`
- **Логи:** `journalctl -u yandex-server-agent -f`
- **Мониторинг:** `/home/yc-user/gita-1972/server-agent/monitor-agent.sh`

## Развертывание
Используйте скрипт быстрого развертывания:
```bash
./scripts/deploy-server-agent.sh
```

## Интеграция с экосистемой
- **Cursor IDE:** автоматическая синхронизация приоритетов и статуса
- **GitHub:** коммиты изменений и обновлений
- **Существующие скрипты:** использует deployment/api-emergency-fix.sh
- **Memory Bank:** обновляет контекст проекта

## Мониторинг производительности
- **CPU:** <5% среднее использование
- **RAM:** <100MB потребление
- **Диск:** <500MB логи и данные
- **Сеть:** минимальный трафик

Агент оптимизирован для работы в фоновом режиме без влияния на производительность основных сервисов проекта.

---
*Последнее обновление: 26 августа 2025*
