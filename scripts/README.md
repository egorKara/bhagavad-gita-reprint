# Скрипты для подготовки изображений слайдера

## Описание
Этот набор скриптов автоматически обрабатывает изображения для слайдера согласно вашим требованиям:

1. **Поворачивает изображения** для лучшей читаемости текста
2. **Использует русские названия** из HTML-кода как имена файлов
3. **Удаляет лишний фон** (в полной версии) или улучшает качество (в упрощенной)
4. **Приводит к единому размеру** 800x600 пикселей
5. **Сохраняет в доступном месте** `public/assets/images/slider/`

## Файлы

### Основные скрипты
- `prepare_slider_images.py` - Полная версия с удалением фона
- `prepare_slider_images_simple.py` - Упрощенная версия без удаления фона
- `prepare_images.sh` - Bash-скрипт для автоматической установки и запуска
- `requirements.txt` - Python-зависимости

### Результат
- `public/slider.html` - Готовый слайдер с обработанными изображениями
- `public/assets/images/slider/` - Папка с обработанными изображениями

## Быстрый старт

### Вариант 1: Автоматический (рекомендуется)
```bash
cd scripts
chmod +x prepare_images.sh
./prepare_images.sh
```

### Вариант 2: Ручная установка
```bash
cd scripts
python3 -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
pip install -r requirements.txt
python3 prepare_slider_images.py
```

### Вариант 3: Упрощенная версия (без удаления фона)
```bash
cd scripts
python3 prepare_slider_images_simple.py
```

## Требования

### Системные
- Python 3.8+
- pip (менеджер пакетов Python)

### Python-пакеты
- Pillow (PIL) - обработка изображений
- rembg - удаление фона (только для полной версии)
- numpy - математические операции

## Обрабатываемые изображения

| Исходный файл | Русское название | Описание |
|----------------|------------------|----------|
| `gita-1972-cover-complete.jpg` | `Полная_обложка.jpg` | Обложка книги |
| `gita-1972-title-page-real.jpg` | `Титульная_страница.jpg` | Титульный лист |
| `gita-1972-foreword-page.jpg` | `Предисловие.jpg` | Предисловие |
| `gita-1972-introduction-page.jpg` | `Введение.jpg` | Введение |
| `gita-1972-preface-page.jpg` | `Предисловие_автора.jpg` | Предисловие автора |
| `gita-1972-page-spread-main.jpg` | `Разворот_с_комментариями.jpg` | Разворот книги |
| `gita-1972-text-detail.jpg` | `Санскритский_текст.jpg` | Санскритский текст |
| `gita-1972-chapter-page.jpg` | `Начало_главы.jpg` | Начало главы |
| `gita-1972-illustration-detail.jpg` | `Детали_иллюстраций.jpg` | Иллюстрации |
| `gita-1972-binding-detail.jpg` | `Детали_переплета.jpg` | Переплет |
| `gita-1972-spine-detail.jpg` | `Корешок_книги.jpg` | Корешок |

## Технические характеристики

### Входные изображения
- Формат: JPEG
- Размеры: различные (оригинальные)
- Качество: исходное

### Выходные изображения
- Формат: JPEG
- Размер: 800x600 пикселей
- Качество: 85%
- Оптимизация: включена
- Фон: удален (полная версия) или сохранен (упрощенная)

## Особенности обработки

### Автоматический поворот
- Анализ EXIF-данных для определения ориентации
- Автоматическое исправление перевернутых изображений

### Улучшение качества
- Увеличение контраста (1.2x)
- Увеличение резкости (1.1x)
- Корректировка яркости (1.05x)

### Изменение размера
- Сохранение пропорций
- Центрирование на белом фоне
- Использование высококачественного алгоритма LANCZOS

## Устранение неполадок

### Ошибка "ModuleNotFoundError: No module named 'rembg'"
```bash
pip install rembg
# Или используйте упрощенную версию:
python3 prepare_slider_images_simple.py
```

### Ошибка "Permission denied"
```bash
chmod +x prepare_images.sh
```

### Ошибка "Python3 not found"
Установите Python 3.8+ для вашей операционной системы

### Медленная обработка
- Упрощенная версия работает быстрее
- Полная версия с удалением фона требует больше времени

## Результат

После успешного выполнения вы получите:

1. **Обработанные изображения** в папке `public/assets/images/slider/`
2. **Готовый слайдер** `public/slider.html`
3. **Документацию** с описанием всех файлов
4. **Логи обработки** в консоли

## Интеграция в проект

Обработанные изображения можно использовать:

1. **В существующем слайдере** - замените пути на новые
2. **В галерее** - обновите HTML-код
3. **В других компонентах** - используйте новые имена файлов

## Поддержка

При возникновении проблем:

1. Проверьте логи выполнения
2. Убедитесь в наличии всех зависимостей
3. Попробуйте упрощенную версию
4. Проверьте права доступа к папкам

## Лицензия

Скрипты распространяются под той же лицензией, что и основной проект.