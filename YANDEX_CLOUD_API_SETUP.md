# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex Cloud API –¥–ª—è Server Agent

## üìã **–ß–¢–û –ü–û–ù–ê–î–û–ë–ò–¢–°–Ø:**

### **üîë Service Account Key**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ [Yandex Cloud Console](https://console.cloud.yandex.ru/)**
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã"**
3. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:**
   - –ò–º—è: `yandex-server-agent`
   - –†–æ–ª–∏: `monitoring.editor`, `compute.viewer`
4. **–°–æ–∑–¥–∞–π—Ç–µ JSON –∫–ª—é—á:**
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç ‚Üí "–°–æ–∑–¥–∞—Ç—å –∫–ª—é—á" ‚Üí "JSON-–∫–ª—é—á"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª (–ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ)

### **üìÅ Folder ID**
1. **–í Yandex Cloud Console –Ω–∞–π–¥–∏—Ç–µ –≤–∞—à Folder ID**
   - –í–∏–¥–Ω–æ –≤ URL: `console.cloud.yandex.ru/folders/[FOLDER_ID]`
   - –ò–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "–û–±–∑–æ—Ä" ‚Üí "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä"

---

## ‚ö° **–ë–´–°–¢–†–ê–Ø –ê–ö–¢–ò–í–ê–¶–ò–Ø:**

### **1Ô∏è‚É£ SSH –≤ —Å–µ—Ä–≤–µ—Ä –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥:**
```bash
cd /home/yc-user/gita-1972/server-agent/
sudo nano agent-config.json
```

### **2Ô∏è‚É£ –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `yandex_monitoring` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ:**
```json
"yandex_monitoring": {
  "enabled": true,
  "service_account_key": "–í–°–¢–ê–í–¨–¢–ï_–°–û–î–ï–†–ñ–ò–ú–û–ï_JSON_–ö–õ–Æ–ß–ê_–ó–î–ï–°–¨",
  "folder_id": "–í–ê–®_FOLDER_ID",
  "api_endpoint": "https://monitoring.api.cloud.yandex.net/monitoring/v2/data/write"
}
```

### **3Ô∏è‚É£ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç:**
```bash
sudo systemctl restart yandex-server-agent
```

---

## üîß **–ß–¢–û –ü–û–õ–£–ß–ò–¢–ï:**

### **üìä –†–ê–°–®–ò–†–ï–ù–ù–´–ï –ú–ï–¢–†–ò–ö–ò:**
- **VM –º–µ—Ç—Ä–∏–∫–∏:** CPU, RAM, –¥–∏—Å–∫, —Å–µ—Ç—å (–¥–µ—Ç–∞–ª—å–Ω–æ)
- **Yandex Cloud —Å–µ—Ä–≤–∏—Å—ã:** Load Balancer, Database, Storage
- **–ö–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:** –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤, uptime

### **üìà –î–ê–®–ë–û–†–î–´:**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è** –≤ Yandex Monitoring
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** 
- **–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** 30 –¥–Ω–µ–π

### **üö® –ê–õ–ï–†–¢–´:**
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!)
- **–ü—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

---

## üí° **–ü–†–ò–ú–ï–† –ù–ê–°–¢–†–û–ô–ö–ò:**

### **Service Account Key (–ø—Ä–∏–º–µ—Ä —Ñ–æ—Ä–º–∞—Ç–∞):**
```json
{
  "id": "aje...",
  "service_account_id": "aje...", 
  "private_key": "-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n",
  "key_algorithm": "RSA_2048"
}
```

### **Folder ID (–ø—Ä–∏–º–µ—Ä):**
```
b1g123456789abcdef
```

---

## üéØ **–°–¢–ê–¢–£–° –ì–û–¢–û–í–ù–û–°–¢–ò:**

‚úÖ **–ö–æ–¥ –≥–æ—Ç–æ–≤ –Ω–∞ 80%** - –º–æ–¥—É–ª—å –Ω–∞–ø–∏—Å–∞–Ω –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω  
‚ö° **–ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ:** Service Account Key + Folder ID  
üöÄ **–í—Ä–µ–º—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏:** 5-10 –º–∏–Ω—É—Ç  
üìä **ROI:** –≠–∫–æ–Ω–æ–º–∏—è 80+ —á–∞—Å–æ–≤/–º–µ—Å—è—Ü –Ω–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–µ  

---

## üÜò **–ï–°–õ–ò –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨:**

1. **Telegram –∫–æ–º–∞–Ω–¥—ã:** `/status` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–õ–æ–≥–∏:** `journalctl -u yandex-server-agent -f`
3. **–¢–µ—Å—Ç API:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ –ª–æ–≥–∞—Ö —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç

**üìû –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç!**
